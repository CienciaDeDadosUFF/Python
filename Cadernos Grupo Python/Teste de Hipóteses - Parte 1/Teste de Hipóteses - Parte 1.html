<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Teste de Hipóteses - Parte 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Teste de Hipóteses - Parte 1_files/libs/clipboard/clipboard.min.js"></script>
<script src="Teste de Hipóteses - Parte 1_files/libs/quarto-html/quarto.js"></script>
<script src="Teste de Hipóteses - Parte 1_files/libs/quarto-html/popper.min.js"></script>
<script src="Teste de Hipóteses - Parte 1_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Teste de Hipóteses - Parte 1_files/libs/quarto-html/anchor.min.js"></script>
<link href="Teste de Hipóteses - Parte 1_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Teste de Hipóteses - Parte 1_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Teste de Hipóteses - Parte 1_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Teste de Hipóteses - Parte 1_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Teste de Hipóteses - Parte 1_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Navegação</h2>
   
  <ul>
  <li><a href="#importação" id="toc-importação" class="nav-link active" data-scroll-target="#importação"><span class="header-section-number">1</span> Importação</a></li>
  <li><a href="#hipóteses-nula-e-alternativa" id="toc-hipóteses-nula-e-alternativa" class="nav-link" data-scroll-target="#hipóteses-nula-e-alternativa"><span class="header-section-number">2</span> Hipóteses Nula e Alternativa</a>
  <ul class="collapse">
  <li><a href="#exemplos" id="toc-exemplos" class="nav-link" data-scroll-target="#exemplos"><span class="header-section-number">2.1</span> Exemplos</a></li>
  </ul></li>
  <li><a href="#estatística-de-teste-e-regra-de-decisão" id="toc-estatística-de-teste-e-regra-de-decisão" class="nav-link" data-scroll-target="#estatística-de-teste-e-regra-de-decisão"><span class="header-section-number">3</span> Estatística de Teste e Regra de Decisão</a></li>
  <li><a href="#nível-de-significância" id="toc-nível-de-significância" class="nav-link" data-scroll-target="#nível-de-significância"><span class="header-section-number">4</span> Nível de Significância</a></li>
  <li><a href="#p---valor" id="toc-p---valor" class="nav-link" data-scroll-target="#p---valor"><span class="header-section-number">5</span> P - Valor</a></li>
  <li><a href="#inferência-sobre-uma-população" id="toc-inferência-sobre-uma-população" class="nav-link" data-scroll-target="#inferência-sobre-uma-população"><span class="header-section-number">6</span> Inferência sobre Uma População</a>
  <ul class="collapse">
  <li><a href="#teste-de-hipótese-para-a-média-populacional" id="toc-teste-de-hipótese-para-a-média-populacional" class="nav-link" data-scroll-target="#teste-de-hipótese-para-a-média-populacional"><span class="header-section-number">6.1</span> Teste de Hipótese para a Média Populacional</a>
  <ul class="collapse">
  <li><a href="#exemplo-1" id="toc-exemplo-1" class="nav-link" data-scroll-target="#exemplo-1"><span class="header-section-number">6.1.1</span> Exemplo 1:</a></li>
  <li><a href="#exemplo-2" id="toc-exemplo-2" class="nav-link" data-scroll-target="#exemplo-2"><span class="header-section-number">6.1.2</span> Exemplo 2</a></li>
  <li><a href="#exemplo-3" id="toc-exemplo-3" class="nav-link" data-scroll-target="#exemplo-3"><span class="header-section-number">6.1.3</span> Exemplo 3</a></li>
  </ul></li>
  <li><a href="#teste-de-hipóteses-para-a-proporção" id="toc-teste-de-hipóteses-para-a-proporção" class="nav-link" data-scroll-target="#teste-de-hipóteses-para-a-proporção"><span class="header-section-number">6.2</span> Teste de Hipóteses para a Proporção</a>
  <ul class="collapse">
  <li><a href="#exemplo-1-1" id="toc-exemplo-1-1" class="nav-link" data-scroll-target="#exemplo-1-1"><span class="header-section-number">6.2.1</span> Exemplo 1:</a></li>
  <li><a href="#exemplo-2-1" id="toc-exemplo-2-1" class="nav-link" data-scroll-target="#exemplo-2-1"><span class="header-section-number">6.2.2</span> Exemplo 2:</a></li>
  <li><a href="#exemplo-3-1" id="toc-exemplo-3-1" class="nav-link" data-scroll-target="#exemplo-3-1"><span class="header-section-number">6.2.3</span> Exemplo 3:</a></li>
  </ul></li>
  <li><a href="#teste-de-hipóteses-para-a-variância" id="toc-teste-de-hipóteses-para-a-variância" class="nav-link" data-scroll-target="#teste-de-hipóteses-para-a-variância"><span class="header-section-number">6.3</span> Teste de Hipóteses para a Variância</a>
  <ul class="collapse">
  <li><a href="#exemplo-1-2" id="toc-exemplo-1-2" class="nav-link" data-scroll-target="#exemplo-1-2"><span class="header-section-number">6.3.1</span> Exemplo 1:</a></li>
  <li><a href="#exemplo-2-2" id="toc-exemplo-2-2" class="nav-link" data-scroll-target="#exemplo-2-2"><span class="header-section-number">6.3.2</span> Exemplo 2:</a></li>
  <li><a href="#exemplo-3-2" id="toc-exemplo-3-2" class="nav-link" data-scroll-target="#exemplo-3-2"><span class="header-section-number">6.3.3</span> Exemplo 3:</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#inferência-sobre-duas-populações" id="toc-inferência-sobre-duas-populações" class="nav-link" data-scroll-target="#inferência-sobre-duas-populações"><span class="header-section-number">7</span> Inferência sobre Duas Populações</a>
  <ul class="collapse">
  <li><a href="#teste-de-hipóteses-para-comparação-de-duas-proporções" id="toc-teste-de-hipóteses-para-comparação-de-duas-proporções" class="nav-link" data-scroll-target="#teste-de-hipóteses-para-comparação-de-duas-proporções"><span class="header-section-number">7.1</span> Teste de Hipóteses para Comparação de Duas Proporções</a>
  <ul class="collapse">
  <li><a href="#exemplo-1-3" id="toc-exemplo-1-3" class="nav-link" data-scroll-target="#exemplo-1-3"><span class="header-section-number">7.1.1</span> Exemplo 1</a></li>
  <li><a href="#exemplo-2-3" id="toc-exemplo-2-3" class="nav-link" data-scroll-target="#exemplo-2-3"><span class="header-section-number">7.1.2</span> Exemplo 2</a></li>
  </ul></li>
  <li><a href="#teste-de-hipótese-para-razão-das-variâncias" id="toc-teste-de-hipótese-para-razão-das-variâncias" class="nav-link" data-scroll-target="#teste-de-hipótese-para-razão-das-variâncias"><span class="header-section-number">7.2</span> Teste de Hipótese para Razão das Variâncias</a></li>
  <li><a href="#teste-de-hipótese-para-comparação-de-médias-para-duas-populações-independentes" id="toc-teste-de-hipótese-para-comparação-de-médias-para-duas-populações-independentes" class="nav-link" data-scroll-target="#teste-de-hipótese-para-comparação-de-médias-para-duas-populações-independentes"><span class="header-section-number">7.3</span> Teste de Hipótese para Comparação de Médias para Duas Populações Independentes</a></li>
  <li><a href="#teste-de-hipótese-para-comparação-de-médias-para-duas-populações-dependentes" id="toc-teste-de-hipótese-para-comparação-de-médias-para-duas-populações-dependentes" class="nav-link" data-scroll-target="#teste-de-hipótese-para-comparação-de-médias-para-duas-populações-dependentes"><span class="header-section-number">7.4</span> Teste de Hipótese para Comparação de Médias para Duas Populações Dependentes</a></li>
  </ul></li>
  <li><a href="#referências" id="toc-referências" class="nav-link" data-scroll-target="#referências"><span class="header-section-number">8</span> Referências</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Teste de Hipóteses - Parte 1</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Na teoria de estimação, vimos que é possível, por meio de estatísticas amostrais adequadas, estimar parâmetros de uma população, dentro de um certo intervalo de confiança. Nos testes de hipóteses, em vez de se construir um intervalo de confiança no qual se espera que o parâmetro da população esteja contido, testa-se a validade de uma afirmação sobre um parâmetro da população. Então, em um teste de hipótese, procura-se tomar decisões a respeito de uma população com base em informações obtidas de uma amostra dessa população.</p>
<p>O contexto em que se baseia a teoria de teste de hipótese é basicamente o mesmo da teoria de estimação por intervalo de confiança. Temos uma população representada por uma variável aleatória X cuja distribuição de probabilidade depende de algum parâmetro θ. O interesse agora está em testar a veracidade de alguma afirmativa sobre θ.</p>
<section id="importação" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Importação</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.stats <span class="im">as</span> sm</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.weightstats <span class="im">import</span> ztest</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> ss</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.weightstats <span class="im">import</span> ttest_ind</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="hipóteses-nula-e-alternativa" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Hipóteses Nula e Alternativa</h1>
<p>A hipótese nula, representada por <span class="math inline">\(H_{0}\)</span>, é a hipótese básica que queremos testar. Consideraremos apenas hipóteses nulas simples, isto é, hipóteses que estabelecem que o parâmetro de interesse é igual a um determinado valor. A forma geral é:</p>
<p><span class="math inline">\(H_{0} : θ = θ_{0}\)</span> onde <span class="math inline">\(\theta_0 \in \mathbb{R}\)</span>.</p>
<p>Alguns exemplos são:</p>
<p><span class="math inline">\(H_{0} : µ = 6\space\space\space\space\(H_{0} : p = 0,5\space\space\space\space\space\)H_{0} : σ² = 25\)</span></p>
<p>O procedimento de teste de hipótese resultará em uma regra de decisão que nos permitirá rejeitar ou não rejeitar <span class="math inline">\(H_{0}\)</span>. A hipótese alternativa, representada por <span class="math inline">\(H_{1}\)</span>, é a hipótese que devemos considerar no caso de rejeição da hipótese nula. A forma mais geral de <span class="math inline">\(H_{1}\)</span> é a hipótese bilateral.</p>
<p><span class="math inline">\(H_{1} : θ \neq θ_{0}\)</span></p>
<p>Em algumas situações, podemos ter informação que nos permita restringir o domínio da hipótese alternativa.Temos, então, hipóteses unilaterais à esquerda</p>
<p><span class="math inline">\(H_{1} : θ &lt; θ_{0}\)</span></p>
<p>e hipóteses unilaterais à direita:</p>
<p><span class="math inline">\(H_{1} : θ &gt; θ_{0}\)</span></p>
<p>A escolha entre essas formas de hipótese alternativa se faz com base no conhecimento sobre o problema sendo considerado e deve ser feita antes de se ter o resultado da amostra.</p>
<section id="exemplos" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="exemplos"><span class="header-section-number">2.1</span> Exemplos</h2>
<p><strong>Exemplo 1</strong>: Uma revista X afirmou que o tempo de produção de parafusos de uma máquina da empresa Y é em <code>média de 2 horas</code>. Deseja-se saber se essa afirmação é verdadeira.</p>
<p>Hipótese Nula: <span class="math inline">\(H_{0} : \mu = 2\)</span></p>
<p>Hipótese Alternativa: <span class="math inline">\(H_{1} : \mu\neq 2\)</span></p>
<p><strong>Exemplo 2</strong>: Uma empresa afirma que seus funcionários da área de TI possuem idade média <code>maior que 40 anos</code>. Desaja-se saber se essa afirmação é verdadeira.</p>
<p>Hipótese Nula: <span class="math inline">\(H_{0} : \mu = 40\)</span></p>
<p>Hipótese Alternativa: <span class="math inline">\(H_{1} : \mu &gt; 40\)</span></p>
<p>OBS: Vale citar que, são mais utilizadas as hipóteses nulas apenas representadas por igualdades. Porém como forma de interpretação, essa hipótese é associada ao inverso da hipótese alternativa. Tendo como exemplo caso anterior, temos a hipótese nula <span class="math inline">\(H_{0} : \mu = 40\)</span> que pode ser entendida também como <span class="math inline">\(H_{0} : \mu \leq 40\)</span>. Pois ao ser realizado um teste para verificar a veracidade da informação, busca-se evidências que a idade média é maior que 40. Caso não há evidências a favor, tem-se que a idade média pode ser menor ou igual a 40.</p>
</section>
</section>
<section id="estatística-de-teste-e-regra-de-decisão" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Estatística de Teste e Regra de Decisão</h1>
<p>Assim como na construção dos intervalos de confiança, usaremos uma estatística amostral apropriada para construir o nosso teste de hipótese, e, nesse contexto, essa estatística é chamada estatística de teste. As estatísticas de teste naturalmente dependem do parâmetro envolvido no teste e nesse caso consideraremos os parâmetros média, variância e proporção. O procedimento de decisão será definido em termos da hipótese nula <span class="math inline">\(H_{0}\)</span>, com duas decisões possíveis: (i) rejeitar <span class="math inline">\(H_{0}\)</span> ou (ii) não rejeitar <span class="math inline">\(H_{0}\)</span>. No quadro a seguir, resumimos as situações possíveis.</p>
<p><img src="tabela_decisao.png" class="img-fluid"></p>
<p>Vemos, aí, que existem duas possibilidades de erro:</p>
<ul>
<li>Erro tipo I: rejeitar <span class="math inline">\(H_{0}\)</span> quando <span class="math inline">\(H_{0}\)</span> é verdadeira.</li>
<li>Erro tipo II: não rejeitar <span class="math inline">\(H_{0}\)</span> quando <span class="math inline">\(H_{0}\)</span> é falsa.</li>
</ul>
</section>
<section id="nível-de-significância" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Nível de Significância</h1>
<p>Definimos como nível de significância de um teste (geralmente denotado pela letra grega α) a probabilidade do erro tipo 1, ou seja,</p>
<p><span class="math inline">\(α \text{ = P(erro I) = P(rejeitar } H_0 | H_0 \text{ é verdadeiro).}\)</span></p>
<p>Em geral é escolhido um dos seguintes valores para α: 1%, 5% e 10%.</p>
</section>
<section id="p---valor" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> P - Valor</h1>
<p><strong>O valor P (p-valor) é a probabilidade de se obter um valor da estatística de teste tão ou mais extremo que o valor observado, supondo-se H0 verdadeira.</strong></p>
<p>A partir da definição, podemos definir a regra de decisão do teste através do resultado do p-valor.</p>
<ul>
<li>Se p-valor &gt; <span class="math inline">\(\alpha\)</span>, não rejeitamos <span class="math inline">\(H_{0}\)</span></li>
<li>Se p-valor ≤ <span class="math inline">\(\alpha\)</span>, rejeitamos <span class="math inline">\(H_{0}\)</span>, ou seja, há evidências a favor de <span class="math inline">\(H_{1}\)</span>.</li>
</ul>
<p><img src="valorp.png" class="img-fluid"></p>
<p>Graças a diversidade de testes disponíveis, esses testes estatísticos podem ser classificados em dois grupos distintos:</p>
<ul>
<li><p><strong>Testes Paramétricos</strong>: testes realizados partindo do pressuposto que a população segue uma distribuição normal.</p></li>
<li><p><strong>Testes Não Paramétricos</strong>: testes que não precisam partir do pressuposto da normalidade.</p></li>
</ul>
<p>A seguir serão apresentados alguns testes estatísticos <strong>paramétricos</strong> para 1 e 2 populações independentes.</p>
</section>
<section id="inferência-sobre-uma-população" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Inferência sobre Uma População</h1>
<section id="teste-de-hipótese-para-a-média-populacional" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="teste-de-hipótese-para-a-média-populacional"><span class="header-section-number">6.1</span> Teste de Hipótese para a Média Populacional</h2>
<p>Seja <span class="math inline">\(X1, . . . , Xn\)</span> uma amostra aleatória de uma população normal com média μ e variância σ² desconhecidas. E suponha que queremos testar as seguintes hipóteses:</p>
<p><span class="math inline">\(H_{0} : \mu = \mu_{0}\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : \mu &lt; ou &gt; ou \neq \mu_{0}\)</span>,</p>
<p>onde <span class="math inline">\(\mu_{0}\)</span> ∈ <span class="math inline">\(\mathbb{R}\)</span>.</p>
<p>Seja T a estatística do teste definida por:</p>
<p>T = <span class="math inline">\(\frac{\bar{X}-\mu}{\frac{S}{\sqrt{n}}} \sim t_{n-1}\)</span></p>
<p>onde <span class="math inline">\(\bar{X}\)</span> e <span class="math inline">\(S\)</span> são a média amostral e a variância amostral, respectivamente.</p>
<p>Após a definição das hipóteses e da estatística de teste, temos que o p-valor é calculado por:</p>
<ul>
<li><p>Se <span class="math inline">\(H_{1}: \mu \neq \mu_{0}\)</span>: <span class="math inline">\(p-valor = P (T &gt; T_{obs}\mid H_{0})\)</span></p></li>
<li><p>Se <span class="math inline">\(H_{1}: \mu &gt; \mu_{0}\)</span> <span class="math inline">\(p-valor = P (T &gt; T_{obs}\mid H_{0})\)</span></p></li>
<li><p><span class="math inline">\(H_{1}: \mu &lt; \mu_{0}\)</span> <span class="math inline">\(p-valor = P (T &lt; T_{obs}\mid H_{0})\)</span></p></li>
</ul>
<p>onde</p>
<p><span class="math inline">\(T_{obs} = \frac{\bar{X}-\mu_{0}}{\frac{S}{\sqrt{n}}}\)</span></p>
<p>Para se aplicar o teste de média para uma população com variância desconhecida, utilizamos a função <code>ttest_1samp</code> da biblioteca <strong>scipy</strong>, cujo argumentos de entrada obrigatórios são:</p>
<ul>
<li><code>a</code> : a amostra observada.</li>
<li><code>popmean</code> : valor associado a <span class="math inline">\(\mu_{0}\)</span> nas hipóteses.</li>
</ul>
<p><strong>Nota-se que essa função não possui nenhum argumento de entrada que indique o tipo da hipótese alternativa (unilateral ou bilateral) que será utilizada. Logo, tem-se que essa função retorna apenas o valor do <span class="math inline">\(T_{obs}\)</span> e o p-valor do teste bilateral. Dessa forma, só podem ser aplicados testes cuja hipótese nula seja</strong> <span class="math inline">\(\mu \neq \mu_{0}\)</span>.</p>
<p>Como na biblioteca <strong>statsmodels</strong> não há função para a utilização das hipóteses unilaterais, iremos também criar a função <code>ttest_uni</code> que retorna o valor de <span class="math inline">\(T_{obs}\)</span> e o p-valor, e possui como argumentos de entrada:</p>
<ul>
<li><code>amostra</code>: amostra observada.</li>
<li><code>popmean</code>: valor associado a <span class="math inline">\(\mu_{0}\)</span> nas hipóteses.</li>
<li><code>alternative</code>: tipo da hipótese alternativa desejada: “larger” (unilateral à direita) ou “smaller” (unilateral à esquerda).</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> ttest_uni(amostra, popmean, alternative):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    n<span class="op">=</span> <span class="bu">len</span>(amostra)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    tobs <span class="op">=</span> (np.mean(amostra)<span class="op">-</span>popmean)<span class="op">/</span>np.sqrt(np.var(amostra, ddof<span class="op">=</span><span class="dv">1</span>)<span class="op">/</span>n)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(alternative <span class="op">==</span> <span class="st">"smaller"</span>):</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        pvalor <span class="op">=</span> ss.t.cdf(tobs,n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(alternative <span class="op">==</span> <span class="st">"larger"</span>):</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>        pvalor <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> ss.t.cdf(tobs,n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'(</span><span class="sc">%.16f</span><span class="st">,</span><span class="sc">%.16f</span><span class="st">)'</span> <span class="op">%</span> (tobs,pvalor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Agora vamos aplicar alguns exemplos práticos de forma a demonstrar a facilidade da aplicabilidade das funções e dos conceitos estatísticos já apresentados.</p>
<p>Para isso será utilizado um banco de dados que representa uma amostra aleatória simples de 1470 funcionários da empresa IBM.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>base<span class="op">=</span>pd.read_csv(<span class="st">'R-Employee-Attrition.csv'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>base.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>41</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1102</td>
<td>Sales</td>
<td>1</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>1</td>
<td>...</td>
<td>1</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>4</td>
<td>0</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>49</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>279</td>
<td>Research &amp; Development</td>
<td>8</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>2</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>3</td>
<td>3</td>
<td>10</td>
<td>7</td>
<td>1</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>37</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1373</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>2</td>
<td>Other</td>
<td>1</td>
<td>4</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>7</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>33</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>1392</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>5</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>3</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>27</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>591</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>1</td>
<td>Medical</td>
<td>1</td>
<td>7</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>6</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
</tbody>
</table>

</div>
<section id="exemplo-1" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="exemplo-1"><span class="header-section-number">6.1.1</span> Exemplo 1:</h3>
<p>Dado que a idade dos funcionários da empresa IBM que raramente viajam a trabalho segue uma distribuição normal com média e variância desconhecidas. Deseja-se testar se a média das idades dos funcionários que <strong>raramente viajam a trabalho</strong> pode ser considerada ou não <code>igual a 37 anos</code>, utilizando um nível de significância de <code>5%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : \mu = 37\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : \mu\neq 37\)</span></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>base_rarely<span class="op">=</span> base[base[<span class="st">'BusinessTravel'</span>] <span class="op">==</span> <span class="st">"Travel_Rarely"</span>] <span class="co"># Filtrar apenas os dados dos que raramente viajam a trabalho.</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>base_rarely.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>41</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1102</td>
<td>Sales</td>
<td>1</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>1</td>
<td>...</td>
<td>1</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>4</td>
<td>0</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>37</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1373</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>2</td>
<td>Other</td>
<td>1</td>
<td>4</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>7</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>27</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>591</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>1</td>
<td>Medical</td>
<td>1</td>
<td>7</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>6</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>59</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>1324</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>3</td>
<td>Medical</td>
<td>1</td>
<td>10</td>
<td>...</td>
<td>1</td>
<td>80</td>
<td>3</td>
<td>12</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7</td>
<td>30</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>1358</td>
<td>Research &amp; Development</td>
<td>24</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>11</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ss.ttest_1samp(base_rarely[<span class="st">'Age'</span>],popmean <span class="op">=</span> <span class="dv">37</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>Ttest_1sampResult(statistic<span class="op">=</span><span class="fl">0.3183482529054914</span>, pvalue<span class="op">=</span><span class="fl">0.7502845793964478</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Como p-valor = 0.75 é maior que o nível de significância proposto, não rejeitamos a hipótese nula, ou seja, há evidências que a média das idades dos funcionários que raramente viajam a trabalho é igual a 37 anos.</p>
</section>
<section id="exemplo-2" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="exemplo-2"><span class="header-section-number">6.1.2</span> Exemplo 2</h3>
<p>Dado que a idade dos funcionários da empresa IBM que frequentemente viajam a trabalho segue uma distribuição normal com média e variância desconhecidas. Deseja-se testar se a média das idades dos funcionários que <strong>frequentemente viajam a trabalho</strong> pode ser considerada <code>menor que 39 anos</code>, utilizando um nível de significância de <code>1%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : \mu = 39\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : \mu &lt; 39\)</span></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>base_freq<span class="op">=</span> base[base[<span class="st">'BusinessTravel'</span>] <span class="op">==</span> <span class="st">"Travel_Frequently"</span>] <span class="co"># Filtrar apenas os dados dos que frequentemente viajam a trabalho.</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>base_freq.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>49</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>279</td>
<td>Research &amp; Development</td>
<td>8</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>2</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>3</td>
<td>3</td>
<td>10</td>
<td>7</td>
<td>1</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>33</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>1392</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>5</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>3</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>32</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>1005</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>8</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>2</td>
<td>2</td>
<td>7</td>
<td>7</td>
<td>3</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>38</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>216</td>
<td>Research &amp; Development</td>
<td>23</td>
<td>3</td>
<td>Life Sciences</td>
<td>1</td>
<td>12</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>10</td>
<td>2</td>
<td>3</td>
<td>9</td>
<td>7</td>
<td>1</td>
<td>8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>32</td>
<td>Yes</td>
<td>Travel_Frequently</td>
<td>1125</td>
<td>Research &amp; Development</td>
<td>16</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>33</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>10</td>
<td>5</td>
<td>3</td>
<td>10</td>
<td>2</td>
<td>6</td>
<td>7</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>ttest_uni(amostra <span class="op">=</span> base_freq[<span class="st">'Age'</span>], popmean <span class="op">=</span> <span class="dv">39</span>, alternative <span class="op">=</span> <span class="st">"smaller"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<pre><code>(-4.9557346279446639,0.0000006294162639)</code></pre>
</div>
</div>
</div>
<p>Como p-valor = 0.0000006 é menor que o nível de significância proposto, rejeitamos a hipótese nula, ou seja, há evidências que a média das idades dos funcionários que frequentemente viajam a trabalho é menor do que a 39 anos.</p>
</section>
<section id="exemplo-3" class="level3" data-number="6.1.3">
<h3 data-number="6.1.3" class="anchored" data-anchor-id="exemplo-3"><span class="header-section-number">6.1.3</span> Exemplo 3</h3>
<p>Dado que a idade dos funcionários da empresa IBM do departamento de vendas segue uma distribuição normal com média e variância desconhecidas. Deseja-se testar se a média das idades dos funcionários do <strong>departamento de vendas</strong> pode ser considerada <code>maior do que 40 anos</code>, utilizando um nível de significância de <code>10%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : \mu = 40\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : \mu&gt; 40\)</span></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>base_sales<span class="op">=</span> base[base[<span class="st">'Department'</span>] <span class="op">==</span> <span class="st">"Sales"</span>] <span class="co"># Filtrar apenas os dados dos funcinários do departamento de vendas.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>base_sales.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>41</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1102</td>
<td>Sales</td>
<td>1</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>1</td>
<td>...</td>
<td>1</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>4</td>
<td>0</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>53</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>1219</td>
<td>Sales</td>
<td>2</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>23</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>31</td>
<td>3</td>
<td>3</td>
<td>25</td>
<td>8</td>
<td>3</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>36</td>
<td>Yes</td>
<td>Travel_Rarely</td>
<td>1218</td>
<td>Sales</td>
<td>9</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>27</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>10</td>
<td>4</td>
<td>3</td>
<td>5</td>
<td>3</td>
<td>0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>42</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>691</td>
<td>Sales</td>
<td>8</td>
<td>4</td>
<td>Marketing</td>
<td>1</td>
<td>35</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>2</td>
<td>3</td>
<td>9</td>
<td>7</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>46</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>705</td>
<td>Sales</td>
<td>2</td>
<td>4</td>
<td>Marketing</td>
<td>1</td>
<td>38</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>0</td>
<td>22</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>ttest_uni(amostra <span class="op">=</span> base_sales[<span class="st">'Age'</span>],popmean <span class="op">=</span> <span class="dv">40</span>, alternative <span class="op">=</span> <span class="st">"larger"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>(-8.0835777128154724,0.9999999999999970)</p>
</div>
</div>
</div>
<p>Como o p-valor é maior que o nível de significância proposto, não rejeitamos a hipótese nula, ou seja, não há evidências que a idade média dos funcionários do departamento de vendas seja maior que 40 anos.</p>
</section>
</section>
<section id="teste-de-hipóteses-para-a-proporção" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="teste-de-hipóteses-para-a-proporção"><span class="header-section-number">6.2</span> Teste de Hipóteses para a Proporção</h2>
<p>De posse de uma grande amostra aleatória simples <span class="math inline">\(X1, X2,…,Xn\)</span> extraída de uma população <span class="math inline">\(X ∼ Ber(p)\)</span>, nosso interesse está em testar a hipótese nula</p>
<p><span class="math inline">\(H_{0} : p = p_{0}\)</span></p>
<p>a um nível de significância α, onde <span class="math inline">\(p_0 \in (0,1)\)</span>. E <span class="math inline">\(p\)</span> se trata da proporção de elementos de uma população que possuem determinada característica de interesse para o experimento. Dependendo do conhecimento sobre o problema, a hipótese alternativa pode tomar uma das três formas:</p>
<p><span class="math inline">\(H_{1} : p &lt; ou &gt; ou \neq p_{0}\)</span></p>
<p>Em qualquer dos casos, a estatística de teste baseia-se na proporção amostral; para grandes amostras, sabemos que</p>
<p><span class="math inline">\(Z = \frac{\hat{p}-p}{\sqrt{\frac{p\left ( 1-p \right )}{n}}} \sim N(0,1)\)</span></p>
<p>Após as definições das hipóteses e da estatística de teste, temos que o p-valor é calculado por:</p>
<ul>
<li>Se <span class="math inline">\(H_{1}: p \neq p_{0}\)</span></li>
</ul>
<p><span class="math inline">\(p-valor = P(Z \geq \left Z_{obs} \right \mid H_{0})\)</span></p>
<ul>
<li><p>Se <span class="math inline">\(H_{1}: p &gt; p_{0}\)</span> <span class="math inline">\(p-valor = P (Z &gt; Z_{obs}\mid H_{0})\)</span></p></li>
<li><p>Se <span class="math inline">\(H_{1}: p &lt; p_{0}\)</span> <span class="math inline">\(p-valor = P (Z &lt; Z_{obs}\mid H_{0})\)</span></p></li>
</ul>
<p>onde</p>
<p><span class="math inline">\(Z_{obs} = \frac{\hat{p}-p_{0}}{\sqrt{\frac{p_{0}\left ( 1 - p_{0} \right )}{n}}}\)</span></p>
<p>Para se aplicar o teste para proporção populacional, utilizamos a função <code>ztest</code> da biblioteca <strong>statsmodels</strong> que retorna o <span class="math inline">\(Z_{obs}\)</span> e o p-valor, e possui como argumentos de entrada obrigatórios:</p>
<ul>
<li><code>x1</code>: a amostra observada.</li>
<li><code>value</code>: valor associado a <span class="math inline">\(p_{0}\)</span></li>
<li><code>alternative</code>: tipo da hipótese alternativa desejada: “two-sided” (bilateral) , “larger” (unilateral à direita) ou “smaller” (unilateral à esquerda).</li>
</ul>
<p>Agora vamos aplicar alguns exemplos práticos de forma a demonstrar a aplicabilidade das funções e dos conceitos estatísticos já apresentados.</p>
<p>Utilizaremos o banco de dados dos funcionários da empresa IBM já apresentado anteriormente.</p>
<section id="exemplo-1-1" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="exemplo-1-1"><span class="header-section-number">6.2.1</span> Exemplo 1:</h3>
<p>Deseja-se averiguar se é corretar afirmar que <code>25%</code> dos funcionários do <strong>departamento de vendas</strong> do IBM passaram por algum problema na empresa, utilizando um nível de significância de <code>5%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : p = 0.25\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : p\neq 0.25\)</span></p>
<p>Tem-se essa informação através da variável <code>Attrition</code> do banco de dados.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>base_sales[<span class="st">'Attrition'</span>] <span class="op">=</span> base_sales[<span class="st">'Attrition'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span> : <span class="dv">1</span>, <span class="st">'No'</span> : <span class="dv">0</span>}) <span class="co"># transformando a variável Risk para valores numéricos</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>base_sales.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>41</td>
<td>1</td>
<td>Travel_Rarely</td>
<td>1102</td>
<td>Sales</td>
<td>1</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>1</td>
<td>...</td>
<td>1</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>4</td>
<td>0</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">18</td>
<td>53</td>
<td>0</td>
<td>Travel_Rarely</td>
<td>1219</td>
<td>Sales</td>
<td>2</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>23</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>31</td>
<td>3</td>
<td>3</td>
<td>25</td>
<td>8</td>
<td>3</td>
<td>7</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">21</td>
<td>36</td>
<td>1</td>
<td>Travel_Rarely</td>
<td>1218</td>
<td>Sales</td>
<td>9</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>27</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>10</td>
<td>4</td>
<td>3</td>
<td>5</td>
<td>3</td>
<td>0</td>
<td>3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">27</td>
<td>42</td>
<td>0</td>
<td>Travel_Rarely</td>
<td>691</td>
<td>Sales</td>
<td>8</td>
<td>4</td>
<td>Marketing</td>
<td>1</td>
<td>35</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>2</td>
<td>3</td>
<td>9</td>
<td>7</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">29</td>
<td>46</td>
<td>0</td>
<td>Travel_Rarely</td>
<td>705</td>
<td>Sales</td>
<td>2</td>
<td>4</td>
<td>Marketing</td>
<td>1</td>
<td>38</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>0</td>
<td>22</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>ztest(x1 <span class="op">=</span> base_sales[<span class="st">'Attrition'</span>], value <span class="op">=</span> <span class="fl">0.25</span>, alternative <span class="op">=</span> <span class="st">"two-sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<pre><code>(-2.279392275404384, 0.0226437570988434)</code></pre>
</div>
</div>
</div>
<p>Como p-valor = 0.02 é menor que o nível de significância proposto, rejeitamos a hipótese nula, ou seja, há evidências que a proporção de funcionários que passaram por problemas é diferente de 25%.</p>
</section>
<section id="exemplo-2-1" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="exemplo-2-1"><span class="header-section-number">6.2.2</span> Exemplo 2:</h3>
<p>Deseja-se averiguar se é corretar afirmar que menos de <code>30%</code> dos funcionários do <strong>departamento de pesquisa</strong> do IBM passaram por algum problema na empresa, utilizando um nível de significância de <code>10%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : p = 0.3\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : p&lt; 0.3\)</span></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>base_pesq<span class="op">=</span> base[base[<span class="st">'Department'</span>] <span class="op">==</span> <span class="st">"Research &amp; Development"</span>] <span class="co"># Filtrar apenas os dados dos funcinários do departamento de vendas.</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>base_pesq[<span class="st">'Attrition'</span>] <span class="op">=</span> base_pesq[<span class="st">'Attrition'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span> : <span class="dv">1</span>, <span class="st">'No'</span> : <span class="dv">0</span>})</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>base_pesq.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>49</td>
<td>0</td>
<td>Travel_Frequently</td>
<td>279</td>
<td>Research &amp; Development</td>
<td>8</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>2</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>3</td>
<td>3</td>
<td>10</td>
<td>7</td>
<td>1</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>37</td>
<td>1</td>
<td>Travel_Rarely</td>
<td>1373</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>2</td>
<td>Other</td>
<td>1</td>
<td>4</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>7</td>
<td>3</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>33</td>
<td>0</td>
<td>Travel_Frequently</td>
<td>1392</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>5</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>3</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>27</td>
<td>0</td>
<td>Travel_Rarely</td>
<td>591</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>1</td>
<td>Medical</td>
<td>1</td>
<td>7</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>6</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>32</td>
<td>0</td>
<td>Travel_Frequently</td>
<td>1005</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>8</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>2</td>
<td>2</td>
<td>7</td>
<td>7</td>
<td>3</td>
<td>6</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>ztest(x1 <span class="op">=</span> base_pesq[<span class="st">'Attrition'</span>], value <span class="op">=</span> <span class="fl">0.30</span>, alternative <span class="op">=</span> <span class="st">"smaller"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>(-14.499935934146963, 6.063151045772378e-48)</p>
</div>
</div>
</div>
<p>Como p-valor é menor do que o nível de significância proposto, rejeitamos <span class="math inline">\(H_0\)</span>, ou seja, há evidências que a proporção de funcionários do departamento de vendas que passaram por algum problema é menos de 30%.</p>
</section>
<section id="exemplo-3-1" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="exemplo-3-1"><span class="header-section-number">6.2.3</span> Exemplo 3:</h3>
<p>Deseja-se averiguar se é corretar afirmar que mais de <code>60%</code> dos funcionários do IBM que <strong>frequentemente viajam a trabalho</strong> passaram por algum problema na empresa, utilizando um nível de significância de <code>1%</code>.</p>
<p><span class="math inline">\(H_{0} : p = 0.6\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : p &gt; 0.6\)</span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>base_freq[<span class="st">'Attrition'</span>] <span class="op">=</span> base_freq[<span class="st">'Attrition'</span>].<span class="bu">map</span>({<span class="st">'Yes'</span> : <span class="dv">1</span>, <span class="st">'No'</span> : <span class="dv">0</span>})</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>base_freq.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>49</td>
<td>0</td>
<td>Travel_Frequently</td>
<td>279</td>
<td>Research &amp; Development</td>
<td>8</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>2</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>3</td>
<td>3</td>
<td>10</td>
<td>7</td>
<td>1</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>33</td>
<td>0</td>
<td>Travel_Frequently</td>
<td>1392</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>5</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>3</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>32</td>
<td>0</td>
<td>Travel_Frequently</td>
<td>1005</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>2</td>
<td>Life Sciences</td>
<td>1</td>
<td>8</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>2</td>
<td>2</td>
<td>7</td>
<td>7</td>
<td>3</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8</td>
<td>38</td>
<td>0</td>
<td>Travel_Frequently</td>
<td>216</td>
<td>Research &amp; Development</td>
<td>23</td>
<td>3</td>
<td>Life Sciences</td>
<td>1</td>
<td>12</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>10</td>
<td>2</td>
<td>3</td>
<td>9</td>
<td>7</td>
<td>1</td>
<td>8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">26</td>
<td>32</td>
<td>1</td>
<td>Travel_Frequently</td>
<td>1125</td>
<td>Research &amp; Development</td>
<td>16</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>33</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>0</td>
<td>10</td>
<td>5</td>
<td>3</td>
<td>10</td>
<td>2</td>
<td>6</td>
<td>7</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>ztest(x1 <span class="op">=</span> base_freq[<span class="st">'Attrition'</span>], value <span class="op">=</span> <span class="fl">0.6</span>, alternative <span class="op">=</span> <span class="st">"larger"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>(-13.47921476827307, 1.0)</p>
</div>
</div>
</div>
<p>Como p-valor = 1 é maior que o nível de significância proposto, não rejeitamos a hipótese nula, ou seja, não há evidências de que mais de 60% dos funcionários que frequentemente viajam a trabalho tenham tido alguma complicação na empresa.</p>
</section>
</section>
<section id="teste-de-hipóteses-para-a-variância" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="teste-de-hipóteses-para-a-variância"><span class="header-section-number">6.3</span> Teste de Hipóteses para a Variância</h2>
<p>Seja <span class="math inline">\(X1, X2,…,Xn\)</span> uma amostra aleatória de uma população com distribuição normal, com média μ e variância σ² desconhecidas.</p>
<p>E suponha que estamos interessados em testar as hipóteses</p>
<p><span class="math inline">\(H_{o}: \sigma^{2} = \sigma^{2}_{0}\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1}: \sigma^{2} &lt; ou &gt; ou \neq \sigma^{2}_{0}\)</span>,</p>
<p>onde <span class="math inline">\(σ_{0}^{2}\)</span> &gt; 0.</p>
<p>Em qualquer dos casos, a estatística de teste Q é dada por:</p>
<p><span class="math inline">\(Q = \frac{(n-1)S^{2}}{\sigma^{2}}\sim \chi^{2}_{(n-1)}\)</span></p>
<p>Após as definições das hipóteses e da estatística de teste, temos que o p-valor é calculado por:</p>
<ul>
<li>Se <span class="math inline">\(H_{1}: \sigma^{2} \neq \sigma^{2}_{0}\)</span>,</li>
</ul>
<p>Missing or unrecognized delimiter for </p>
<ul>
<li><p>Se <span class="math inline">\(H_{1}: \sigma^{2} &gt; \sigma^{2}_{0}\)</span>, <span class="math inline">\(p-valor = P (Q &gt; Q_{obs}\mid H_{0})\)</span></p></li>
<li><p>Se <span class="math inline">\(H_{1}: \sigma^{2} &lt; \sigma^{2}_{0}\)</span> <span class="math inline">\(p-valor = P (Q &lt; Q_{obs}\mid H_{0})\)</span></p></li>
</ul>
<p>onde</p>
<p><span class="math inline">\(Q_{obs} = \frac{(n-1)S^{2}}{\sigma_{0}^{2}}\)</span></p>
<p>Como não há funções pertencentes às bibliotecas <strong>statsmodels</strong> e <strong>scipy</strong> que realizam o teste para a variância, criamos uma função própria chamada <code>test_var</code> que retorna o <span class="math inline">\(Q_{obs}\)</span> e o p-valor, e recebe como argumentos de entrada:</p>
<ul>
<li><code>amostra</code>: amostra observada</li>
<li><code>sigma2</code>: valor referente a <span class="math inline">\(\sigma^{2}_{0}\)</span></li>
<li><code>alternative</code>: tipo da hipótese alternativa desejada: “two-sided” (bilateral) , “larger” (unilateral à direita) ou “smaller” (unilateral à esquerda).</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> test_var (amostra, sigma2, alternative<span class="op">=</span> <span class="st">"two.sided"</span>):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>    n<span class="op">=</span><span class="bu">len</span>(amostra)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    qobs<span class="op">=</span> (n<span class="op">-</span><span class="dv">1</span>)<span class="op">*</span>np.var(amostra, ddof<span class="op">=</span><span class="dv">1</span>)<span class="op">/</span>sigma2</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(alternative <span class="op">==</span> <span class="st">"smaller"</span>):</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>        pvalor <span class="op">=</span> ss.chi2.cdf(qobs,n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(alternative <span class="op">==</span> <span class="st">"larger"</span>):</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        pvalor <span class="op">=</span> <span class="dv">1</span> <span class="op">-</span> ss.chi2.cdf(qobs,n<span class="op">-</span><span class="dv">1</span>)</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(alternative <span class="op">==</span> <span class="st">"two.sided"</span>):</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>        pvalor <span class="op">=</span> <span class="dv">2</span><span class="op">*</span>np.minimum(<span class="dv">1</span> <span class="op">-</span> ss.chi2.cdf(qobs,n<span class="op">-</span><span class="dv">1</span>),ss.chi2.cdf(qobs,n<span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'(</span><span class="sc">%.16f</span><span class="st">,</span><span class="sc">%.16f</span><span class="st">)'</span> <span class="op">%</span> (qobs,pvalor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Agora vamos aplicar alguns exemplos práticos de forma a demonstrar a facilidade da aplicabilidade das funções e dos conceitos estatísticos já apresentados. Utilizaremos o banco de dados dos funcionários da empresa IBM.</p>
<section id="exemplo-1-2" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="exemplo-1-2"><span class="header-section-number">6.3.1</span> Exemplo 1:</h3>
<p>Um dos diretores da empresa IBM afirmou que a variabilidade da idade dentre seus funcionários é de <code>76 anos²</code>. Dado que a idade dos funcionários segue uma distribuição normal com média e variância desconhecidas, deseja-se averiguar a veracidade da afirmação, utilizando um nível de significância de <code>1%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : \sigma^{2} = 76\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : \sigma^{2} \neq 76\)</span></p>
<p>Nesse caso não é preciso realizar nenhum processo de filtragem, ou seja, utilzaremos a base original.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>test_var(amostra <span class="op">=</span> base[<span class="st">'Age'</span>], sigma2 <span class="op">=</span> <span class="dv">76</span>, alternative <span class="op">=</span> <span class="st">"two.sided"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<pre><code>(1613.0982456140357044,0.0096419873719233)</code></pre>
</div>
</div>
</div>
<p>Como p-valor = 0.009 é menor que o nível de significância proposto, rejeitamos a hipótese nula, ou seja, temos evidências de que a variabilidade das idades dos funcionários é diferente de 76. Portanto a afirmação é considerada equivocada.</p>
</section>
<section id="exemplo-2-2" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="exemplo-2-2"><span class="header-section-number">6.3.2</span> Exemplo 2:</h3>
<p>Um jornal local noticiou que a variabilidade dos anos de trabalho dos funcionários da empresa IBM é <code>inferior a 60 anos²</code>. Dado que os anos de trabalho dos funcionários da empresa IBM segue uma distribuição normal com média e variância desconhecidas, deseja-se averiguar a veracidade da afirmação, utilizando um nível de significância de <code>5%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : \sigma^{2} = 60\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : \sigma^{2} &lt; 60\)</span></p>
<p>Nesse caso, também não é preciso realizar nenhum processo de filtragem, ou seja, utilizaremos a base original.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>test_var(base[<span class="st">'TotalWorkingYears'</span>],<span class="dv">60</span>,<span class="st">"smaller"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>(1482.2347959183696275,0.6009205627661879)</p>
</div>
</div>
</div>
<p>Como p-valor = 0.6 é maior que o nível de significância proposto, não rejeitamos a hipótese nula, ou seja, não há evidências que a variabilidade dos anos de trabalho dos funcionários seja inferior a 60. Portanto, considera-se que a informação noticiada é incorreta.</p>
</section>
<section id="exemplo-3-2" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="exemplo-3-2"><span class="header-section-number">6.3.3</span> Exemplo 3:</h3>
<p>Um dos funcionários da empresa afirmou que a variabilidade dos anos de trabalho dos funcionários da empresa IBM <strong>casados</strong> é <code>superior a 30 anos²</code>. Dado que os anos de trabalho dos funcionários casados da empresa IBM segue uma distribuição normal com média e variância desconhecidas, deseja-se averiguar a veracidade da afirmação, utilizando um nível de significância de <code>10%</code>.</p>
<p>Através desse problema temos as hipóteses:</p>
<p><span class="math inline">\(H_{0} : \sigma^{2} = 30\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : \sigma^{2} &gt; 30\)</span></p>
<p>Podemos achar essa informação através da variável <code>MaritalStatus</code> presente no banco de dados.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>base_casados <span class="op">=</span> base[base[<span class="st">'MaritalStatus'</span>] <span class="op">==</span> <span class="st">"Married"</span>] </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>base_casados.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Age</th>
<th data-quarto-table-cell-role="th">Attrition</th>
<th data-quarto-table-cell-role="th">BusinessTravel</th>
<th data-quarto-table-cell-role="th">DailyRate</th>
<th data-quarto-table-cell-role="th">Department</th>
<th data-quarto-table-cell-role="th">DistanceFromHome</th>
<th data-quarto-table-cell-role="th">Education</th>
<th data-quarto-table-cell-role="th">EducationField</th>
<th data-quarto-table-cell-role="th">EmployeeCount</th>
<th data-quarto-table-cell-role="th">EmployeeNumber</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">RelationshipSatisfaction</th>
<th data-quarto-table-cell-role="th">StandardHours</th>
<th data-quarto-table-cell-role="th">StockOptionLevel</th>
<th data-quarto-table-cell-role="th">TotalWorkingYears</th>
<th data-quarto-table-cell-role="th">TrainingTimesLastYear</th>
<th data-quarto-table-cell-role="th">WorkLifeBalance</th>
<th data-quarto-table-cell-role="th">YearsAtCompany</th>
<th data-quarto-table-cell-role="th">YearsInCurrentRole</th>
<th data-quarto-table-cell-role="th">YearsSinceLastPromotion</th>
<th data-quarto-table-cell-role="th">YearsWithCurrManager</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>49</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>279</td>
<td>Research &amp; Development</td>
<td>8</td>
<td>1</td>
<td>Life Sciences</td>
<td>1</td>
<td>2</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>10</td>
<td>3</td>
<td>3</td>
<td>10</td>
<td>7</td>
<td>1</td>
<td>7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>33</td>
<td>No</td>
<td>Travel_Frequently</td>
<td>1392</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>4</td>
<td>Life Sciences</td>
<td>1</td>
<td>5</td>
<td>...</td>
<td>3</td>
<td>80</td>
<td>0</td>
<td>8</td>
<td>3</td>
<td>3</td>
<td>8</td>
<td>7</td>
<td>3</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>27</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>591</td>
<td>Research &amp; Development</td>
<td>2</td>
<td>1</td>
<td>Medical</td>
<td>1</td>
<td>7</td>
<td>...</td>
<td>4</td>
<td>80</td>
<td>1</td>
<td>6</td>
<td>3</td>
<td>3</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6</td>
<td>59</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>1324</td>
<td>Research &amp; Development</td>
<td>3</td>
<td>3</td>
<td>Medical</td>
<td>1</td>
<td>10</td>
<td>...</td>
<td>1</td>
<td>80</td>
<td>3</td>
<td>12</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>36</td>
<td>No</td>
<td>Travel_Rarely</td>
<td>1299</td>
<td>Research &amp; Development</td>
<td>27</td>
<td>3</td>
<td>Medical</td>
<td>1</td>
<td>13</td>
<td>...</td>
<td>2</td>
<td>80</td>
<td>2</td>
<td>17</td>
<td>3</td>
<td>2</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>test_var(amostra <span class="op">=</span> base_casados[<span class="st">'TotalWorkingYears'</span>], sigma2 <span class="op">=</span> <span class="dv">50</span>, alternative <span class="op">=</span> <span class="st">"larger"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>(834.6771471025249411,0.0000173254449680)</p>
</div>
</div>
</div>
<p>Como p-valor = 0.00001 é menor que o nível de significância proposto, rejeitamos a hipótese nula, ou seja há evidências que a variabilidade dos anos trabalhados entre os casados é superior a 30.Portanto a afirmação realizada é dada como verdadeira.</p>
</section>
</section>
</section>
<section id="inferência-sobre-duas-populações" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Inferência sobre Duas Populações</h1>
<section id="teste-de-hipóteses-para-comparação-de-duas-proporções" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="teste-de-hipóteses-para-comparação-de-duas-proporções"><span class="header-section-number">7.1</span> Teste de Hipóteses para Comparação de Duas Proporções</h2>
<p>Sejam <span class="math inline">\({X_{1} \sim N(\mu_{1}, \sigma^2_{1})}\)</span> e <span class="math inline">\({X_{2} \sim N(µ_{2}, σ^2_{2})}\)</span> duas amostras independentes de tamanho <span class="math inline">\({n_{1}}\)</span> e <span class="math inline">\({n_{2}}\)</span>, respectivamente, e <span class="math inline">\({ \hat{p_{1}} }\)</span> e <span class="math inline">\({ \hat{p_{2}} }\)</span> estimadores de <span class="math inline">\({p_{1}}\)</span> e <span class="math inline">\({p_{2}}\)</span>, proporção de ocorrência de um certo evento. Então, aproximadamente, <span class="math inline">\({\hat{p_{1}} \sim N\left ( p_{1}, \frac{p_{1}(1 - p_{1})}{n_{1}} \right )}\)</span> e <span class="math inline">\({\hat{p_{2}} \sim N\left ( p_{2}, \frac{p_{2}(1 - p_{2})}{n_{2}} \right )}\)</span> implicando <span class="math inline">\({\hat{p_{1}} - \hat{p_{2}} \sim N\left ( p_{1} - p_{2}, \frac{p_{1}(1 - p_{1})}{n_{1}}+ \frac{p_{2}(1 - p_{2})}{n_{2}} \right )}\)</span>. Portanto:</p>
<p><span class="math inline">\(Z = \frac{(\hat{p_{1}} - \hat{p_{2}}) - (p_{1} - p_{2})}{\sqrt{\frac{\hat{p_{1}}(1 - \hat{p_{1}})}{n_{1}} + \frac{\hat{p_{2}}(1 - \hat{p_{2}})}{n_{2}}}} \sim N(0, 1)\)</span></p>
<p>Para realizar o teste da comparação de duas proporções, existem 3 formas de propor as hipóteses nula e alternativa:</p>
<p><span class="math inline">\(H_{0}: p_{1} - p_{2} = p_{0} \ \ \times \ \ H_{1}: p_{1} - p_{2} \neq p_{0}\)</span></p>
<p>ou</p>
<p><span class="math inline">\(H_{0}: p_{1} - p_{2} = p_{0} \ \ \times \ \ H_{1}: p_{1} - p_{2} &gt; p_{0}\)</span></p>
<p>ou</p>
<p><span class="math inline">\(H_{0}: p_{1} - p_{2} = p_{0} \ \ \times \ \ H_{1}: p_{1} - p_{2} &lt; p_{0}\)</span></p>
<p>onde <span class="math inline">\(p_0 \in (0,1)\)</span>.</p>
<p>Através da estatística de teste e a definição das hipóteses, para a tomada de decisão é preciso calcular o p-valor, cujas fórmulas são dadas por:</p>
<ul>
<li><p>Se <span class="math inline">\(H_{1} : p_{X} - p_{Y}\neq p_{0}\)</span>, <span class="math inline">\(p-valor = P(|Z| \geq \left | Z_{obs} \right |\mid H_{0})\)</span></p></li>
<li><p>Se <span class="math inline">\(H_{1} : p_{X} - p_{Y} &gt; p_{0}\)</span>, <span class="math inline">\(p-valor = P(Z &gt; Z_{obs}\mid H_{0} )\)</span></p></li>
<li><p>Se <span class="math inline">\(H_{1} : p_{X} - p_{Y} &lt; p_{0}\)</span>, <span class="math inline">\(p-valor = P(Z &lt; Z_{obs}\mid H_{0} )\)</span></p></li>
</ul>
<p>onde</p>
<p><span class="math inline">\(Z_{obs} = \frac{(\hat{p}{1} - \hat{p}{2}) - p_{0}}{\sqrt{\frac{\hat{p}{1}(1 - \hat{p}{1})}{n_{1}} + \frac{\hat{p}{2}(1 - \hat{p}{2})}{n_{2}}}}\)</span></p>
<p>Para realizar esses cálculos no Python, utilizaremos a função <code>ztest()</code> da biblioteca <strong>statsmodels</strong>, já apresentado anteriormente, com os seguintes argumentos de entrada:</p>
<ul>
<li><code>x1</code>: a amostra observada.</li>
<li><code>x2</code>: a segunda amostra observada.</li>
<li><code>value</code>: valor associado a <span class="math inline">\(p_{0}\)</span></li>
<li><code>alternative</code>: tipo da hipótese alternativa desejada: “two-sided” (bilateral) , “larger” (unilateral à direita) ou “smaller” (unilateral à esquerda).</li>
</ul>
<p>Agora vamos aplicar alguns exemplos práticos de forma a demonstrar a aplicabilidade das funções e dos conceitos estatísticos já apresentados. Utilizaremos um banco de dados que representa uma amostra aleatória simples de 562 filmes lançados no cinema no período de 2007 a 2011, com informações como gênero, orçamento e críticas presentes no site Rotten Tomatoes.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'Movie-Ratings.csv'</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Film</th>
<th data-quarto-table-cell-role="th">Genre</th>
<th data-quarto-table-cell-role="th">Rotten Tomatoes Ratings %</th>
<th data-quarto-table-cell-role="th">Audience Ratings %</th>
<th data-quarto-table-cell-role="th">Budget (million $)</th>
<th data-quarto-table-cell-role="th">Year of release</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>(500) Days of Summer</td>
<td>Comedy</td>
<td>87</td>
<td>81</td>
<td>8</td>
<td>2009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>10,000 B.C.</td>
<td>Adventure</td>
<td>9</td>
<td>44</td>
<td>105</td>
<td>2008</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>12 Rounds</td>
<td>Action</td>
<td>30</td>
<td>52</td>
<td>20</td>
<td>2009</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>127 Hours</td>
<td>Adventure</td>
<td>93</td>
<td>84</td>
<td>18</td>
<td>2010</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>17 Again</td>
<td>Comedy</td>
<td>55</td>
<td>70</td>
<td>20</td>
<td>2009</td>
</tr>
</tbody>
</table>

</div>
<section id="exemplo-1-3" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="exemplo-1-3"><span class="header-section-number">7.1.1</span> Exemplo 1</h3>
<p>Deseja-se avaliar se no período de 2007 a 2011, a proporção de <strong>filmes de Comédia</strong> lançados no cinema foi <code>igual</code> a proporção de <strong>filmes de Aventura</strong>, utilizando um nível de significância de <code>5%</code>.</p>
<p>As hipóteses serão as seguintes:</p>
<p><span class="math inline">\(H_{0} : p_{X} - p_{Y} = 0\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : p_{X} - p_{Y}\neq 0\)</span></p>
<p>Onde X ão filmes do gênero <code>Comédia</code> e Y, os filmes do gênero <code>Aventura</code>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Genre_Comedy'</span>] <span class="op">=</span> np.where(df.Genre <span class="op">==</span> <span class="st">"Comedy"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">'Genre_Adventure'</span>] <span class="op">=</span> np.where(df.Genre <span class="op">==</span> <span class="st">"Adventure"</span>, <span class="dv">1</span>, <span class="dv">0</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

<div class="scroll_table">


<table class="dataframe table-striped table-bordered table-sm table small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Film</th>
<th data-quarto-table-cell-role="th">Genre</th>
<th data-quarto-table-cell-role="th">Rotten Tomatoes Ratings %</th>
<th data-quarto-table-cell-role="th">Audience Ratings %</th>
<th data-quarto-table-cell-role="th">Budget (million $)</th>
<th data-quarto-table-cell-role="th">Year of release</th>
<th data-quarto-table-cell-role="th">Genre_Comedy</th>
<th data-quarto-table-cell-role="th">Genre_Adventure</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>(500) Days of Summer</td>
<td>Comedy</td>
<td>87</td>
<td>81</td>
<td>8</td>
<td>2009</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>10,000 B.C.</td>
<td>Adventure</td>
<td>9</td>
<td>44</td>
<td>105</td>
<td>2008</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>12 Rounds</td>
<td>Action</td>
<td>30</td>
<td>52</td>
<td>20</td>
<td>2009</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>127 Hours</td>
<td>Adventure</td>
<td>93</td>
<td>84</td>
<td>18</td>
<td>2010</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>17 Again</td>
<td>Comedy</td>
<td>55</td>
<td>70</td>
<td>20</td>
<td>2009</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
<div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>ztest(x1<span class="op">=</span>df.Genre_Comedy, x2<span class="op">=</span> df.Genre_Adventure, value <span class="op">=</span> <span class="dv">0</span>, alternative <span class="op">=</span> <span class="st">'two-sided'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>(11.789438693301005, 4.42480180658489e-32)</p>
</div>
</div>
</div>
<p>Como o p-valor é menor que o nível de significância proposto, rejeitamos <span class="math inline">\(H_0\)</span>, ou seja, há evidências que as proporções de filmes de Comédia e de Aventura lançados no período de 2007 a 2011 nos cinema sejam diferentes.</p>
</section>
<section id="exemplo-2-3" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="exemplo-2-3"><span class="header-section-number">7.1.2</span> Exemplo 2</h3>
<p>Baseado no resultado do exemplo anterior, sabe-se que as proporções de filmes de comédia e aventura em 2007-2011 são consideradas diferentes. Então, através disso, deseja-se avaliar se a proporção de <strong>filmes de Comédia</strong> é <code>maior</code> que a proporção de <strong>filmes de Aventura</strong> lançados nos cinemas em 2007-2011, utilizando um nível de significância de <code>1%</code>.</p>
<p>As hipóteses serão as seguintes:</p>
<p><span class="math inline">\(H_{0} : p_{X} - p_{Y} = 0\)</span></p>
<p>vs</p>
<p><span class="math inline">\(H_{1} : p_{X} - p_{Y} &gt; 0\)</span> <span class="math inline">\(\Rightarrow\)</span> <span class="math inline">\(H_{1} : p_{X} &gt; p_{Y}\)</span></p>
<p>Onde X são filmes do gênero <code>Comédia</code> e Y, os filmes do gênero <code>Aventura</code>.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>ztest(x1<span class="op">=</span>df.Genre_Comedy, x2<span class="op">=</span>df.Genre_Adventure, value <span class="op">=</span> <span class="dv">0</span>, alternative <span class="op">=</span> <span class="st">'larger'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-simple callout-none no-icon">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-body-container">
<p>(11.789438693301005, 2.212400903292445e-32)</p>
</div>
</div>
</div>
<p>Como p-valor é menor que o nível de significância proposto, rejeitamos <span class="math inline">\(H_0\)</span>, ou seja, há evidências que foram lançados mais filmes do gênero Comédia do que filmes do gênero Aventura nos cinemas no período de 2007 a 2011.</p>
</section>
</section>
<section id="teste-de-hipótese-para-razão-das-variâncias" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="teste-de-hipótese-para-razão-das-variâncias"><span class="header-section-number">7.2</span> Teste de Hipótese para Razão das Variâncias</h2>
</section>
<section id="teste-de-hipótese-para-comparação-de-médias-para-duas-populações-independentes" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="teste-de-hipótese-para-comparação-de-médias-para-duas-populações-independentes"><span class="header-section-number">7.3</span> Teste de Hipótese para Comparação de Médias para Duas Populações Independentes</h2>
</section>
<section id="teste-de-hipótese-para-comparação-de-médias-para-duas-populações-dependentes" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="teste-de-hipótese-para-comparação-de-médias-para-duas-populações-dependentes"><span class="header-section-number">7.4</span> Teste de Hipótese para Comparação de Médias para Duas Populações Dependentes</h2>
</section>
</section>
<section id="referências" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> Referências</h1>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>